



# Utiliser une image de base officielle de Python 3.12
FROM python:3.12-slim

# Définir le répertoire de travail dans le conteneur
WORKDIR /image

# Copier tout le contenu du répertoire de travail actuel dans le répertoire de travail du conteneur
COPY . .


# Installer les dépendances Python à partir du fichier requirements.txt
RUN pip install -r requirements.txt
# Copier le modèle RandomFodocrestClassifier dans le conteneur
COPY random_forest_model.pkl /image/random_forest_model.pkl
COPY random_forest_model2.pkl /image/random_forest_model2.pkl

# Installer les bibliothèques système nécessaires, y compris libgl1-mesa-glx et libglib2.0-0
RUN apt-get update && apt-get install -y libgl1-mesa-glx libglib2.0-0

# Commande par défaut pour exécuter l'application Flask
CMD ["python", "app.py"]